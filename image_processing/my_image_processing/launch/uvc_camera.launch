<launch>
  <arg name="camera_info_url" default="file://$(find my_image_processing)/config/camera.yaml"/>
  <arg name="device" default="/dev/video0"/>
  <arg name="width" default="640"/>
  <arg name="height" default="480"/>
  <arg name="fps" default="30"/>
  <arg name="frame_id" default="camera_frame"/>
  
  <node pkg="uvc_camera" type="uvc_camera_node" name="camera_driver">
    <param name="camera_info_url" value="$(arg camera_info_url)"/>
    <param name="width" value="$(arg width)"/>
    <param name="height" value="$(arg height)"/>
    <param name="fps" value="$(arg height)"/>
    <param name="frame_id" value="$(arg frame_id)"/>
  </node>
  <node pkg="image_proc" type="image_proc" name="image_proc" output="screen">
    <remap from="image" to="image_raw" />
  </node>
  <node pkg="image_view" type="image_view" name="image_view" >
    <remap from="image" to="image_rect_color" />
  </node>

  <node pkg="tf" type="static_transform_publisher" name="map_to_camera" args="0 0 1 0 0 -1.57 map camera_frame 100"/>
  
</launch>
